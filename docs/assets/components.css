/* ============================================================
   ELCS Framework — Component Stylesheet
   Cards · Tables · Diagrams · Gates · Lenses · Roles ·
   Metrics · Install · Callouts · Stages
   ============================================================ */

/* ----- Cards ----------------------------------------------- */
.card-grid {
  display: grid;
  gap: 1.5rem;
}

.card-grid--2 { grid-template-columns: repeat(2, 1fr); }
.card-grid--3 { grid-template-columns: repeat(3, 1fr); }
.card-grid--4 { grid-template-columns: repeat(4, 1fr); }

.card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  padding: 1.75rem;
  transition: box-shadow var(--transition), transform var(--transition);
}

.card:hover {
  box-shadow: var(--shadow-md);
  transform: translateY(-2px);
}

.card__icon {
  font-size: 1.75rem;
  margin-bottom: .75rem;
  display: block;
}

.card h3 { margin-bottom: .4rem; }
.card p  { font-size: .92rem; margin-bottom: 0; }

/* ----- Tables ---------------------------------------------- */
.table-wrap {
  overflow-x: auto;
  margin: 1.5rem 0;
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: .92rem;
}

thead th {
  text-align: left;
  font-weight: 700;
  color: var(--color-text);
  padding: .75rem 1rem;
  border-bottom: 2px solid var(--color-border);
  background: var(--color-bg-alt);
  white-space: nowrap;
}

td {
  padding: .75rem 1rem;
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-muted);
}

tbody tr:hover { background: var(--color-bg-alt); }

/* ----- Comparison Tables ----------------------------------- */
.comparison {
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
  overflow: hidden;
  margin: 1.5rem 0;
}

.comparison thead th:first-child {
  background: var(--color-primary);
  color: #fff;
}

.comparison thead th:last-child {
  background: var(--color-hero-bg);
  color: #fff;
}

/* ----- Diagram (Ralph Loop) -------------------------------- */
.loop-diagram {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: .25rem;
  flex-wrap: wrap;
  padding: 2.5rem 1rem;
  margin: 2rem 0;
  background: var(--color-bg-alt);
  border-radius: var(--radius);
  border: 1px solid var(--color-border);
}

.loop-step {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: .4rem;
  padding: 1rem 1.5rem;
  background: var(--color-bg);
  border-radius: var(--radius-sm);
  border: 2px solid var(--color-primary);
  font-weight: 700;
  font-size: .9rem;
  color: var(--color-primary);
  min-width: 110px;
  text-align: center;
}

.loop-step span {
  font-size: 1.5rem;
}

.loop-arrow {
  font-size: 1.25rem;
  color: var(--color-text-muted);
  flex-shrink: 0;
}

/* ----- Stage Progression ----------------------------------- */
.stages {
  display: flex;
  gap: 0;
  margin: 2rem 0;
  overflow-x: auto;
}

.stage-item {
  flex: 1;
  min-width: 140px;
  padding: 1.25rem 1rem;
  text-align: center;
  border: 1px solid var(--color-border);
  position: relative;
  background: var(--color-bg);
}

.stage-item:first-child { border-radius: var(--radius-sm) 0 0 var(--radius-sm); }
.stage-item:last-child  { border-radius: 0 var(--radius-sm) var(--radius-sm) 0; }

.stage-item strong {
  display: block;
  font-size: 1.1rem;
  color: var(--color-primary);
}

.stage-item small {
  font-size: .78rem;
  color: var(--color-text-muted);
}

.stage-item.active {
  background: var(--color-primary);
  color: #fff;
  border-color: var(--color-primary);
}

.stage-item.active strong,
.stage-item.active small { color: #fff; }

/* ----- Gates List ------------------------------------------ */
.gate-list {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin: 1.5rem 0;
}

.gate-item {
  display: flex;
  align-items: flex-start;
  gap: .75rem;
  padding: 1.25rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
}

.gate-item .gate-num {
  font-weight: 800;
  font-size: 1.1rem;
  color: var(--color-primary);
  background: #eff6ff;
  border-radius: 50%;
  min-width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.gate-item h4 { font-size: .95rem; margin-bottom: .2rem; }
.gate-item p  { font-size: .85rem; margin-bottom: 0; }

/* ----- Lens List ------------------------------------------- */
.lens-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 1rem;
  margin: 1.5rem 0;
}

.lens-card {
  padding: 1.25rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  border-left: 4px solid var(--color-primary);
}

.lens-card h4 { font-size: .95rem; margin-bottom: .25rem; }
.lens-card p  { font-size: .85rem; margin-bottom: 0; }

/* ----- Role Cards ------------------------------------------ */
.role-card {
  border-left: 4px solid var(--color-primary);
}

.role-card ul {
  list-style: disc;
  padding-left: 1.25rem;
  margin-top: .5rem;
}

.role-card ul li {
  font-size: .9rem;
  color: var(--color-text-muted);
  margin-bottom: .3rem;
}

/* ----- Metrics Callout ------------------------------------- */
.metrics {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;
  margin: 2rem 0;
}

.metric-item {
  text-align: center;
  padding: 1.5rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
}

.metric-item .number {
  font-size: 2.25rem;
  font-weight: 800;
  color: var(--color-primary);
  display: block;
  line-height: 1;
  margin-bottom: .4rem;
}

.metric-item .label {
  font-size: .85rem;
  color: var(--color-text-muted);
}

/* ----- Install Options ------------------------------------- */
.install-options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
  margin: 2rem 0;
}

.install-option {
  padding: 1.5rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: var(--radius);
}

.install-option h3 {
  display: flex;
  align-items: center;
  gap: .5rem;
}

.install-option pre {
  margin-top: .75rem;
  margin-bottom: 0;
}

/* ----- Callout Box ----------------------------------------- */
.callout {
  background: var(--color-bg-alt);
  border: 1px solid var(--color-border);
  border-left: 4px solid var(--color-primary);
  border-radius: var(--radius-sm);
  padding: 1.25rem 1.5rem;
  margin: 1.5rem 0;
}

.callout p { margin-bottom: 0; }

.callout strong { color: var(--color-text); }

/* ----- Component Responsive -------------------------------- */
@media (max-width: 900px) {
  .card-grid--4 { grid-template-columns: repeat(2, 1fr); }
  .card-grid--3 { grid-template-columns: repeat(2, 1fr); }
  .gate-list    { grid-template-columns: repeat(2, 1fr); }
  .metrics      { grid-template-columns: repeat(2, 1fr); }
  .install-options { grid-template-columns: 1fr; }
  .stages       { flex-wrap: wrap; }
  .stage-item   { min-width: 100px; border-radius: var(--radius-sm) !important; }
}

@media (max-width: 640px) {
  .card-grid--4,
  .card-grid--3,
  .card-grid--2 { grid-template-columns: 1fr; }
  .gate-list    { grid-template-columns: 1fr; }
  .metrics      { grid-template-columns: 1fr; }
  .install-options { grid-template-columns: 1fr; }

  .loop-diagram { flex-direction: column; }
  .loop-arrow { transform: rotate(90deg); }

  .card pre {
    font-size: .7rem;
    padding: .75rem 1rem;
  }

  .install-option pre {
    font-size: .7rem;
    padding: .75rem 1rem;
  }
}

/* ----- Getting Started Responsive Fixes -------------------- */
@media (max-width: 900px) {
  .card pre {
    font-size: .75rem;
  }
}
